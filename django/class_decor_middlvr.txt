üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –≤ Django
1. View
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π.

–ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç: object

–ú–µ—Ç–æ–¥—ã: get(), post(), put(), delete(), head(), options()

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π, –ø–æ–∑–≤–æ–ª—è—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ HTTP-–º–µ—Ç–æ–¥—ã.

2. TemplateView
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —à–∞–±–ª–æ–Ω —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º.

–ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç: View, TemplateResponseMixin, ContextMixin

–ú–µ—Ç–æ–¥—ã: get_context_data()

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü —Å –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

3. RedirectView
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π URL.

–ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç: View

–ú–µ—Ç–æ–¥—ã: get_redirect_url()

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã.

4. ListView
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –º–æ–¥–µ–ª–∏.

–ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç: MultipleObjectMixin, BaseListView, TemplateResponseMixin, ContextMixin, View

–ú–µ—Ç–æ–¥—ã: get_queryset(), get_context_data()

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Å—Ç–∞—Ç—å–∏ –±–ª–æ–≥–∞, —Ç–æ–≤–∞—Ä—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ.

5. DetailView
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–¥–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ –º–æ–¥–µ–ª–∏.

–ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç: SingleObjectMixin, BaseDetailView, TemplateResponseMixin, ContextMixin, View

–ú–µ—Ç–æ–¥—ã: get_object(), get_context_data()

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –∏–ª–∏ –ø–æ—Å—Ç–∞.

6. CreateView
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –º–æ–¥–µ–ª–∏.

–ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç: BaseCreateView, ModelFormMixin, FormMixin, ProcessFormView, View

–ú–µ—Ç–æ–¥—ã: get_form_class(), get_context_data(), form_valid(), form_invalid()

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–æ—Ä–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞.

7. UpdateView
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –º–æ–¥–µ–ª–∏.

–ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç: BaseUpdateView, ModelFormMixin, FormMixin, ProcessFormView, View

–ú–µ—Ç–æ–¥—ã: get_object(), get_form_class(), get_context_data(), form_valid(), form_invalid()

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

8. DeleteView
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –º–æ–¥–µ–ª–∏.

–ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç: BaseDeleteView, ModelFormMixin, FormMixin, ProcessFormView, View

–ú–µ—Ç–æ–¥—ã: get_object(), get_context_data(), delete(), get_success_url()

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.

üî∏ –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
TemplateView: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–û –Ω–∞—Å" —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

RedirectView: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ URL –Ω–∞ –Ω–æ–≤—ã–π.

ListView: –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ.

DetailView: –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –ø—Ä–æ–¥—É–∫—Ç–µ.

CreateView: –§–æ—Ä–º–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –æ—Ç–∑—ã–≤–∞ –æ –ø—Ä–æ–¥—É–∫—Ç–µ.

UpdateView: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.

DeleteView: –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –ø–æ–¥ –ø–æ—Å—Ç–æ–º.


üîπ –ú–∏–∫—Å–∏–Ω—ã (Mixins) –≤ Django
–ú–∏–∫—Å–∏–Ω—ã ‚Äî —ç—Ç–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫ View, –Ω–µ —Å–æ–∑–¥–∞–≤–∞—è –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ.

‚úÖ –°–∞–º—ã–µ –ø–æ–ª–µ–∑–Ω—ã–µ –º–∏–∫—Å–∏–Ω—ã:
1. LoginRequiredMixin
üìå –¢—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã–ª –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω.

üí° –ò–Ω–∞—á–µ ‚Äî —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞.

‚úÖ –ü—Ä–∏–º–µ—Ä:

python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
from django.contrib.auth.mixins import LoginRequiredMixin

class MyView(LoginRequiredMixin, View):
    ...
2. PermissionRequiredMixin
üìå –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ (permissions).

‚úÖ –ü—Ä–∏–º–µ—Ä:

python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
from django.contrib.auth.mixins import PermissionRequiredMixin

class MyView(PermissionRequiredMixin, View):
    permission_required = 'app_name.permission_code'
3. UserPassesTestMixin
üìå –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É (–∫–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞).

‚úÖ –ü—Ä–∏–º–µ—Ä:

python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
from django.contrib.auth.mixins import UserPassesTestMixin

class MyView(UserPassesTestMixin, View):
    def test_func(self):
        return self.request.user.is_superuser
4. AccessMixin
üîß –ë–∞–∑–æ–≤—ã–π –º–∏–∫—Å–∏–Ω –¥–ª—è –≤—Å–µ—Ö –≤—ã—à–µ ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—â–∏–µ –º–µ—Ç–æ–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, handle_no_permission()).

–û–±—ã—á–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é, –Ω–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –µ–≥–æ –º–µ—Ç–æ–¥—ã –≤ –¥—Ä—É–≥–∏—Ö –º–∏–∫—Å–∏–Ω–∞—Ö.

üî∏ –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å –º–∏–∫—Å–∏–Ω—ã?
‚úÖ –í–æ –≤—å—é—à–∫–∞—Ö, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–ª–∞—Å—Å–∞—Ö (Class-Based Views)

‚úÖ –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞—â–∏—Ç–∞ –¥–æ—Å—Ç—É–ø–∞ –∫–æ –º–Ω–æ–≥–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º)

‚ùå –ù–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ function-based views ‚Äî –¥–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, @login_required)

üîπ –ú–∏–¥–ª–≤–∞—Ä–∏ (Middleware) –≤ Django
Middleware ‚Äî —ç—Ç–æ –ø—Ä–æ—Å–ª–æ–π–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–æ–º –∏ –æ—Ç–≤–µ—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã.

‚úÖ –ß—Ç–æ –æ–Ω–∏ –¥–µ–ª–∞—é—Ç:
–ü—Ä–æ–≤–µ—Ä—è—é—Ç –∏ –∏–∑–º–µ–Ω—è—é—Ç –∑–∞–ø—Ä–æ—Å—ã (request) –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –æ–Ω–∏ –ø–æ–ø–∞–¥—É—Ç –≤ view.

–ü—Ä–æ–≤–µ—Ä—è—é—Ç –∏ –∏–∑–º–µ–Ω—è—é—Ç –æ—Ç–≤–µ—Ç—ã (response) –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –æ–Ω–∏ —É–π–¥—É—Ç –∫–ª–∏–µ–Ω—Ç—É.

–ú–æ–≥—É—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è.

–í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º –≤ settings.py ‚Üí MIDDLEWARE.

üì¶ –ü—Ä–∏–º–µ—Ä—ã –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö middleware:

Middleware	–ß—Ç–æ –¥–µ–ª–∞–µ—Ç
AuthenticationMiddleware	–î–æ–±–∞–≤–ª—è–µ—Ç .user –≤ request
SessionMiddleware	–î–æ–±–∞–≤–ª—è–µ—Ç —Å–µ—Å—Å–∏–∏ (request.session)
CsrfViewMiddleware	–ü—Ä–æ–≤–µ—Ä—è–µ—Ç CSRF —Ç–æ–∫–µ–Ω –≤ POST-–∑–∞–ø—Ä–æ—Å–∞—Ö
SecurityMiddleware	–ó–∞—â–∏—Ç–∞: HSTS, HTTPS —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –∏ —Ç.–¥.
CommonMiddleware	–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫, —Å–ª–µ—à–µ–π –∏ –¥—Ä.
LocaleMiddleware	–î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
MessageMiddleware	–í–∫–ª—é—á–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏–π (django.contrib.messages)
üõ† –ö–∞–∫ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ–π middleware:
python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
class SimpleMiddleware:
    def __init__(self, get_response):
        self.get_response = get_response

    def __call__(self, request):
        print("–î–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ view")
        response = self.get_response(request)
        print("–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ view")
        return response
–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π –µ–≥–æ –≤ settings.py:

MIDDLEWARE = [
    ...,
    'myapp.middleware.SimpleMiddleware',
]
üìå –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å middleware:
–î–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ —Ç–æ–∫–µ–Ω—É, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ IP, –∞–Ω–∞–ª–∏–∑—É —Ç—Ä–∞—Ñ–∏–∫–∞

–ù–µ —Å—Ç–æ–∏—Ç –ø–∏—Å–∞—Ç—å middleware, –µ—Å–ª–∏ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –≤–Ω—É—Ç—Ä–∏ –æ–±—ã—á–Ω–æ–≥–æ view –∏–ª–∏ –º–∏–∫—Å–∏–Ω–∞

üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã?
–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—ë—Ä—Ç–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫ –¥—Ä—É–≥–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º. –í Django –æ–Ω–∏ —á–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ views, —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø–æ–º, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é –∏ –∫–µ—à–µ–º.

‚úÖ –°–∞–º—ã–µ –ø–æ–ª–µ–∑–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã Django:
1. @login_required
üìå –¢—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã–ª –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω.

üîÅ –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞.

üõ† –ò–∑ django.contrib.auth.decorators

‚úÖ –ü—Ä–∏–º–µ—Ä:

from django.contrib.auth.decorators import login_required

@login_required
def my_view(request):
    ...
2. @permission_required
üìå –¢—Ä–µ–±—É–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∞–≤–∞ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

üîÅ –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å raise_exception=True, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞, –∞ —Å—Ä–∞–∑—É 403.

‚úÖ –ü—Ä–∏–º–µ—Ä:

from django.contrib.auth.decorators import permission_required

@permission_required('myapp.change_post')
def edit_post(request):
    ...
3. @user_passes_test
üìå –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø—Ä–æ—Ö–æ–¥–∏—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–∞—Å—Ç–æ–º–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É.

‚úÖ –ü—Ä–∏–º–µ—Ä:

from django.contrib.auth.decorators import user_passes_test

def is_superuser(user):
    return user.is_superuser

@user_passes_test(is_superuser)
def admin_view(request):
    ...
4. @staff_member_required
üìå –¢–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å is_staff=True

üõ† –£–¥–æ–±–Ω–æ –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö —Ä–∞–∑–¥–µ–ª–æ–≤

‚úÖ –ü—Ä–∏–º–µ—Ä:

from django.contrib.admin.views.decorators import staff_member_required

@staff_member_required
def manage_users(request):
    ...
5. @csrf_exempt
‚ùóÔ∏è–û—Ç–∫–ª—é—á–∞–µ—Ç CSRF-–∑–∞—â–∏—Ç—É (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)

‚úÖ –ü—Ä–∏–º–µ—Ä:

from django.views.decorators.csrf import csrf_exempt

@csrf_exempt
def external_hook(request):
    ...
6. @csrf_protect
üîí –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∞–µ—Ç CSRF-–∑–∞—â–∏—Ç—É (–µ—Å–ª–∏ –æ–Ω–∞ –≤–¥—Ä—É–≥ –±—ã–ª–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞)

‚úÖ –ü—Ä–∏–º–µ—Ä:


from django.views.decorators.csrf import csrf_protect

@csrf_protect
def my_secure_view(request):
    ...
7. @require_http_methods([...])
üìå –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç view –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ (GET, POST, DELETE –∏ —Ç.–¥.)

‚úÖ –ü—Ä–∏–º–µ—Ä:


from django.views.decorators.http import require_http_methods

@require_http_methods(["POST"])
def submit_form(request):
    ...
–¢–∞–∫–∂–µ –µ—Å—Ç—å –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ:

@require_GET

@require_POST

@require_safe (—Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–µ—Ç–æ–¥—ã: GET –∏ HEAD)

8. @cache_page(timeout)
üì¶ –ö–µ—à–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –æ—Ç view –Ω–∞ –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)

‚úÖ –ü—Ä–∏–º–µ—Ä:

python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
from django.views.decorators.cache import cache_page

@cache_page(60 * 15)  # 15 –º–∏–Ω—É—Ç
def my_cached_view(request):
    ...
9. @vary_on_cookie / @vary_on_headers
üìå –£–ø—Ä–∞–≤–ª—è—é—Ç HTTP-–∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ Vary, —á—Ç–æ–±—ã –∫–µ—à –±—ã–ª –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º.

‚úÖ –ü—Ä–∏–º–µ—Ä:

from django.views.decorators.vary import vary_on_cookie

@vary_on_cookie
def my_view(request):
    ...
üìå –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è?
‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤—å—é—à–∫–∏ (function-based views)

‚ùå –î–ª—è CBV (class-based views) –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @method_decorator

–ü—Ä–∏–º–µ—Ä —Å CBV:

python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
from django.utils.decorators import method_decorator
from django.contrib.auth.decorators import login_required
from django.views import View

@method_decorator(login_required, name='dispatch')
class MyView(View):
    ...


–ó–∞–¥–∞—á–∞	–î–µ–∫–æ—Ä–∞—Ç–æ—Ä
–¢—Ä–µ–±–æ–≤–∞—Ç—å –ª–æ–≥–∏–Ω	@login_required
–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–∞–≤–∞	@permission_required
–ö–∞—Å—Ç–æ–º–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞	@user_passes_test
–¢–æ–ª—å–∫–æ –¥–ª—è staff-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π	@staff_member_required
–£–±—Ä–∞—Ç—å CSRF	@csrf_exempt
–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å HTTP-–º–µ—Ç–æ–¥—ã	@require_http_methods([...])
–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ	@cache_page(...)

üîπ –ö–ª–∞—Å—Å—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (Views) –≤ DRF
DRF —Ä–∞—Å—à–∏—Ä—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π Django, –ø—Ä–µ–¥–ª–∞–≥–∞—è —É–¥–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API.

1. APIView
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π.

–ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç: django.views.View

–ú–µ—Ç–æ–¥—ã: get(), post(), put(), delete(), head(), options()

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ API.

2. GenericAPIView
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –†–∞—Å—à–∏—Ä—è–µ—Ç APIView, –¥–æ–±–∞–≤–ª—è—è –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤ –∏ queryset.

–ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç: APIView

–ú–µ—Ç–æ–¥—ã: get_queryset(), get_serializer_class()

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –¥–∞–Ω–Ω—ã–º –º–æ–¥–µ–ª–∏.

3. Generic Views
DRF –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–±–æ—Ä –≥–æ—Ç–æ–≤—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ GenericAPIView –∏ –º–∏–∫—Å–∏–Ω–∞—Ö:

ListCreateAPIView: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç GET –∏ POST –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤.

RetrieveAPIView: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç GET –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

RetrieveUpdateAPIView: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç GET –∏ PUT/PATCH –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

RetrieveUpdateDestroyAPIView: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç GET, PUT/PATCH –∏ DELETE –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

ListAPIView: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ GET –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤.

CreateAPIView: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ POST –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.

UpdateAPIView: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ PUT/PATCH –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.

DestroyAPIView: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ DELETE –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

from rest_framework import generics
from .models import Snippet
from .serializers import SnippetSerializer

class SnippetList(generics.ListCreateAPIView):
    queryset = Snippet.objects.all()
    serializer_class = SnippetSerializer

üî∏ –ú–∏–∫—Å–∏–Ω—ã (Mixins) –≤ DRF
–ú–∏–∫—Å–∏–Ω—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –±–∞–∑–æ–≤—É—é –ª–æ–≥–∏–∫—É –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π CRUD. –û–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π.

ListModelMixin: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç GET –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤.

CreateModelMixin: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç POST –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.

RetrieveModelMixin: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç GET –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

UpdateModelMixin: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç PUT/PATCH –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.

DestroyModelMixin: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç DELETE –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

from rest_framework import mixins, generics
from .models import Snippet
from .serializers import SnippetSerializer

class SnippetList(mixins.ListModelMixin, mixins.CreateModelMixin, generics.GenericAPIView):
    queryset = Snippet.objects.all()
    serializer_class = SnippetSerializer

    def get(self, request, *args, **kwargs):
        return self.list(request, *args, **kwargs)

    def post(self, request, *args, **kwargs):
        return self.create(request, *args, **kwargs)

üîπ –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –≤ DRF
DRF –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π.

@api_view: –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Ñ—É–Ω–∫—Ü–∏—è–º-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º, —É–∫–∞–∑—ã–≤–∞—è, –∫–∞–∫–∏–µ HTTP-–º–µ—Ç–æ–¥—ã –æ–Ω–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç.

@authentication_classes: –£–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∞—Å—Å—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.

@permission_classes: –£–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∞—Å—Å—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.

@throttle_classes: –£–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∞—Å—Å—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.

@renderer_classes: –£–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∞—Å—Å—ã —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.

@parser_classes: –£–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∞—Å—Å—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:


from rest_framework.decorators import api_view, authentication_classes, permission_classes
from rest_framework.response import Response
from rest_framework.authentication import SessionAuthentication
from rest_framework.permissions import IsAuthenticated

@api_view(['GET'])
@authentication_classes([SessionAuthentication])
@permission_classes([IsAuthenticated])
def snippet_list(request):
    snippets = Snippet.objects.all()
    serializer = SnippetSerializer(snippets, many=True)
    return Response(serializer.data)
üî∏ Middleware –≤ DRF
Middleware –≤ DRF —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –≤ Django, –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—è –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã. DRF –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ middleware –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á API.

–ü—Ä–∏–º–µ—Ä—ã:

SessionAuthenticationMiddleware: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–µ—Å—Å–∏–æ–Ω–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é.

CommonMiddleware: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTTP-–∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

LocaleMiddleware: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é –∑–∞–ø—Ä–æ—Å–æ–≤.

–ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ middleware:


MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.locale.LocaleMiddleware',
    'rest_framework.middleware.SessionAuthenticationMiddleware',
]