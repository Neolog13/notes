7 - nginx
39 - nginx directive
211 - dsl
240 - nginx vs uvicorn
282 - —Ç–∏–ø—ã –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è

Nginx (–ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—Å—è –∫–∞–∫ "—ç–Ω–¥–∂–∏–Ω-–∏–∫—Å") ‚Äî —ç—Ç–æ:

‚öôÔ∏è –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ –æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä.
üîπ –û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ Nginx:
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏	–û–ø–∏—Å–∞–Ω–∏–µ
–í–µ–±-—Å–µ—Ä–≤–µ—Ä	–û—Ç–¥–∞—ë—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã, HTML, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, CSS, JS
–û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏ (reverse proxy)	–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –Ω–∞ backend-—Å–µ—Ä–≤–µ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, Node.js, Python)
–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏	–†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ backend-—Å–µ—Ä–≤–µ—Ä–∞–º–∏
–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ	–ö–µ—à–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã –æ—Ç backend-–∞ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
SSL/TLS —Ç–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä	–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç HTTPS, —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –∑–∞—â–∏—Ç–∞	–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞, –ª–∏–º–∏—Ç—ã –ø–æ IP, –ø—Ä–æ—Å—Ç–µ–π—à–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫

üì¶ –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?
–ü–æ—á—Ç–∏ –Ω–∞ –∫–∞–∂–¥–æ–º –≤—Ç–æ—Ä–æ–º —Å–∞–π—Ç–µ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ

–ö–∞–∫ frontend-–ø—Ä–æ–∫—Å–∏ –ø–µ—Ä–µ–¥ backend-–∞–º–∏ –Ω–∞ Node.js, Python (Django, Flask), PHP –∏ —Ç.–¥.

–í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö –∫–∞–∫ gateway –∏–ª–∏ load balancer

–ö–∞–∫ –±–∞–∑–∞ –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º: Kubernetes Ingress, API Gateway

üß† –ü–æ—á–µ–º—É –æ–Ω —Ç–∞–∫–æ–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π?
–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–±–ª–∞–≥–æ–¥–∞—Ä—è event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ)

–ú–∞–ª–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

–ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å Apache)

–ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞



–í Nginx –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ (nginx.conf), –∫–æ—Ç–æ—Ä–∞—è –∑–∞–¥–∞—ë—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞.

üìò –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:
–î–∏—Ä–µ–∫—Ç–∏–≤–∞ –≤ Nginx ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–æ–±—â–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä—É, –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏–ª–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è.

üìå –ü—Ä–∏–º–µ—Ä—ã –¥–∏—Ä–µ–∫—Ç–∏–≤:
–î–∏—Ä–µ–∫—Ç–∏–≤–∞	–ß—Ç–æ –¥–µ–ª–∞–µ—Ç
listen 80;	–°–ª—É—à–∞—Ç—å –ø–æ—Ä—Ç 80 (HTTP)
server_name example.com;	–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –¥–æ–º–µ–Ω
root /var/www/html;	–£–∫–∞–∑—ã–≤–∞–µ—Ç –ø–∞–ø–∫—É —Å —Ñ–∞–π–ª–∞–º–∏ –¥–ª—è –æ—Ç–¥–∞—á–∏
proxy_pass http://localhost:3000;	–ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä
index index.html;	–£–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
–ö–∞–∂–¥–∞—è –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Ç–æ—á–∫–æ–π —Å –∑–∞–ø—è—Ç–æ–π (;), –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å:

–û–¥–∏–Ω–æ—á–Ω–æ–π:

nginx
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
listen 80;
–° –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏ (–Ω–∞–∑—ã–≤–∞—é—Ç—Å—è context):

nginx
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
server {
    listen 80;
    server_name example.com;

    location / {
        proxy_pass http://localhost:3000;
    }
}
üìö –ö–æ–Ω—Ç–µ–∫—Å—Ç—ã (–≥–¥–µ –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–∏–≤—ã):
–ö–æ–Ω—Ç–µ–∫—Å—Ç	–û–ø–∏—Å–∞–Ω–∏–µ
main	–ö–æ—Ä–µ–Ω—å —Ñ–∞–π–ª–∞ nginx.conf
http	–í—Å–µ, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å HTTP-—Ç—Ä–∞—Ñ–∏–∫–æ–º
server	–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∞–π—Ç–∞/–¥–æ–º–µ–Ω–∞
location	–ü–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—É—Ç—è—Ö URL

üß† –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–∏–≤—ã:
nginx
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
location /api {
    proxy_pass http://backend:4000;
    proxy_set_header Host $host;
}
–ó–¥–µ—Å—å —Ç—Ä–∏ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã:

location /api { ... } ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –ø—É—Ç–∏ /api

proxy_pass ‚Äî –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å

proxy_set_header ‚Äî –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç HTTP-–∑–∞–≥–æ–ª–æ–≤–æ–∫

–¥–∞–≤–∞–π

ChatGPT —Å–∫–∞–∑–∞–ª:
–í–æ—Ç üì¶ –ø–æ–¥–±–æ—Ä–∫–∞ —Å–∞–º—ã—Ö —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∏—Ä–µ–∫—Ç–∏–≤ Nginx —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º ‚Äî —É–¥–æ–±–Ω–æ –∫–∞–∫ —à–ø–∞—Ä–≥–∞–ª–∫–∞ –∏–ª–∏ —Å—Ç–∞—Ä—Ç–æ–≤–∞—è —Ç–æ—á–∫–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã (–≤ –ª—é–±–æ–º nginx.conf)
–î–∏—Ä–µ–∫—Ç–∏–≤–∞	–û–ø–∏—Å–∞–Ω–∏–µ
worker_processes	–ö–æ–ª-–≤–æ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (–æ–±—ã—á–Ω–æ auto)
events {}	–ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ–±—ã—Ç–∏–π
worker_connections	–ú–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å

nginx
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
worker_processes auto;

events {
    worker_connections 1024;
}
üîπ –î–∏—Ä–µ–∫—Ç–∏–≤—ã –≤ http –±–ª–æ–∫–µ
–î–∏—Ä–µ–∫—Ç–∏–≤–∞	–û–ø–∏—Å–∞–Ω–∏–µ
include mime.types;	–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ MIME-—Ç–∏–ø–æ–≤
default_type	–¢–∏–ø —Ñ–∞–π–ª–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
sendfile on;	–ë—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤
keepalive_timeout	–¢–∞–π–º–∞—É—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

nginx
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
http {
    include mime.types;
    default_type application/octet-stream;

    sendfile on;
    keepalive_timeout 65;
}
üîπ –î–∏—Ä–µ–∫—Ç–∏–≤—ã –≤ server –±–ª–æ–∫–µ
–î–∏—Ä–µ–∫—Ç–∏–≤–∞	–û–ø–∏—Å–∞–Ω–∏–µ
listen	–ù–∞ –∫–∞–∫–æ–º –ø–æ—Ä—Ç—É —Å–ª—É—à–∞—Ç—å
server_name	–î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è —Å–µ—Ä–≤–µ—Ä–∞
root	–ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏
index	–ò–º—è –≥–ª–∞–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

nginx
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
server {
    listen 80;
    server_name example.com;
    root /var/www/html;
    index index.html;
}
üîπ location –±–ª–æ–∫ ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Ç–µ–π
–î–∏—Ä–µ–∫—Ç–∏–≤–∞	–û–ø–∏—Å–∞–Ω–∏–µ
location	–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Ç–∏ URL
try_files	–ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–¥–∞—Ç—å —Ñ–∞–π–ª –∏–ª–∏ –≤–µ—Ä–Ω—É—Ç—å 404
rewrite	–ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ URL
return	–í–µ—Ä–Ω—É—Ç—å –∫–æ–¥ –∏–ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç

nginx
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
location / {
    try_files $uri $uri/ =404;
}
üîπ –î–∏—Ä–µ–∫—Ç–∏–≤—ã –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è
–î–∏—Ä–µ–∫—Ç–∏–≤–∞	–û–ø–∏—Å–∞–Ω–∏–µ
proxy_pass	–ö—É–¥–∞ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å
proxy_set_header	–ó–∞–¥–∞–Ω–∏–µ HTTP-–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
proxy_redirect	–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –æ—Ç –±—ç–∫–µ–Ω–¥–∞

nginx
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
location /api/ {
    proxy_pass http://localhost:3000/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
}
üîπ HTTPS (TLS) –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–î–∏—Ä–µ–∫—Ç–∏–≤–∞	–û–ø–∏—Å–∞–Ω–∏–µ
ssl_certificate	–ü—É—Ç—å –∫ .crt-—Ñ–∞–π–ª—É
ssl_certificate_key	–ü—É—Ç—å –∫ .key-—Ñ–∞–π–ª—É
listen 443 ssl	HTTPS-–ø–æ—Ä—Ç

nginx
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
server {
    listen 443 ssl;
    server_name example.com;

    ssl_certificate /etc/ssl/certs/example.crt;
    ssl_certificate_key /etc/ssl/private/example.key;
}
üîπ –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
nginx
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
server {
    listen 80;
    server_name oldsite.com;
    return 301 https://newsite.com$request_uri;
}
üìå –ü–æ–ª–µ–∑–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è	–ó–Ω–∞—á–µ–Ω–∏–µ
$host	–ò–º—è —Ö–æ—Å—Ç–∞ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞
$remote_addr	IP –∫–ª–∏–µ–Ω—Ç–∞
$request_uri	–ü–æ–ª–Ω—ã–π URI
$uri	–ü—É—Ç—å URI
$args	GET-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
$scheme	http –∏–ª–∏ https


–ü—Ä–µ–¥–º–µÃÅ—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏ÃÅ—Ä–æ–≤–∞–Ω–Ω—ã–π —è–∑—ãÃÅ–∫ (–∞–Ω–≥–ª. domain-specific language, DSL ‚Äî ¬´—è–∑—ã–∫, —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–π –¥–ª—è –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏¬ª) ‚Äî –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–π —è–∑—ã–∫,
—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è (–≤ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ—Å—Ç—å —è–∑—ã–∫—É –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è, –ø—Ä–∏–º–µ–Ω–∏–º–æ–º—É –∫ —à–∏—Ä–æ–∫–æ–º—É —Å–ø–µ–∫—Ç—Ä—É –æ–±–ª–∞—Å—Ç–µ–π 
–∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—â–µ–º—É –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—Ñ–µ—Ä –∑–Ω–∞–Ω–∏–π). –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç–∞–∫–æ–≥–æ —è–∑—ã–∫–∞ –∏/–∏–ª–∏ –µ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç—Ä–∞–∂–∞—é—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫—É —Ä–µ—à–∞–µ–º—ã—Ö —Å
–µ–≥–æ –ø–æ–º–æ—â—å—é –∑–∞–¥–∞—á[1]. –Ø–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º –ø–æ–Ω—è—Ç–∏–µ–º —è–∑—ã–∫–æ–≤–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

–§–∞–π–ª nginx.conf –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —è–∑—ã–∫–µ Nginx, –∫–æ—Ç–æ—Ä—ã–π —Ñ–æ—Ä–º–∞–ª—å–Ω–æ –Ω–µ –∏–º–µ–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è, –Ω–æ —á–∞—â–µ –≤—Å–µ–≥–æ –Ω–∞–∑—ã–≤–∞—é—Ç:

Nginx configuration language
–∏–ª–∏
Nginx config syntax

–≠—Ç–æ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —è–∑—ã–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ Nginx.

üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —è–∑—ã–∫–∞ nginx.conf:
–°—Ç—Ä—É–∫—Ç—É—Ä–∞: –¥–∏—Ä–µ–∫—Ç–∏–≤—ã –∏ –±–ª–æ–∫–∏

–°–∏–Ω—Ç–∞–∫—Å–∏—Å: –ø–æ—Ö–æ–∂ –Ω–∞ C-style (—Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ {}), –Ω–æ —Å–∏–ª—å–Ω–æ —É–ø—Ä–æ—â—ë–Ω

–ù–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º –ø–æ–Ω–∏–º–∞–Ω–∏–∏ (–Ω–æ –µ—Å—Ç—å $variables)

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç ; –≤ –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–π –¥–∏—Ä–µ–∫—Ç–∏–≤—ã

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å (http {}, server {}, location {} –∏ —Ç.–¥.)

–≠—Ç–æ –Ω–µ YAML, –Ω–µ JSON, –Ω–µ XML, –Ω–µ Lua (—Ö–æ—Ç—è Nginx –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Lua —á–µ—Ä–µ–∑ ngx_lua).

–≠—Ç–æ –Ω–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –∞ –∏–º–µ–Ω–Ω–æ DSL (domain-specific language) ‚Äî —É–∑–∫–æ—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥-—è–∑—ã–∫.


üöÄ –ß—Ç–æ —Ç–∞–∫–æ–µ Uvicorn?
Uvicorn ‚Äî —ç—Ç–æ ASGI-—Å–µ—Ä–≤–µ—Ä (Asynchronous Server Gateway Interface),
–∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ FastAPI, Starlette, Django (ASGI) –∏ —Ç.–¥.

–û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å—Ç–∞—Ä–æ–≥–æ WSGI (–Ω–∞–ø—Ä–∏–º–µ—Ä, Gunicorn –¥–ª—è Django/Flask).

üîß –ü–æ—á–µ–º—É –æ–¥–Ω–æ–≥–æ Nginx –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:
–ó–∞–¥–∞—á–∞	Nginx	Uvicorn
–û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ (–∫–∞–∫ —Å–µ—Ä–≤–µ—Ä)	‚úÖ	‚úÖ
–û–±—Ä–∞–±–æ—Ç–∫–∞ Python-–∫–æ–¥–∞ (FastAPI, Django)	‚ùå	‚úÖ
–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ Python-—Ä—É—á–∫–∏ (async def)	‚ùå	‚úÖ
Reverse proxy	‚úÖ	‚ùå
SSL/HTTPS, —Å–∂–∞—Ç–∏–µ, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ	‚úÖ	‚ö†Ô∏è (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ)

üì¶ –ö–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ
üîÅ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–¥–∞–∫—à–Ω-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
css
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
[ –ö–ª–∏–µ–Ω—Ç ] ‚Üí [ Nginx (reverse proxy) ] ‚Üí [ Uvicorn (ASGI server) ] ‚Üí [ FastAPI / Django ]
Nginx: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å, –¥–µ–ª–∞–µ—Ç HTTPS, –∫–µ—à, —Å–∂–∞—Ç–∏–µ

Uvicorn: –≤—ã–ø–æ–ª–Ω—è–µ—Ç Python-–∫–æ–¥ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ –ó–∞—á–µ–º –≤–æ–æ–±—â–µ Uvicorn?
–≠—Ç–æ –∏—Å–ø–æ–ª–Ω—è–µ–º–∞—è —Å—Ä–µ–¥–∞ –¥–ª—è Python API-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WebSocket, HTTP/2, async/await

–û—á–µ–Ω—å –ª–µ–≥–∫–∏–π –∏ –±—ã—Å—Ç—Ä—ã–π (–Ω–∞ –±–∞–∑–µ uvloop –∏ httptools)

üî• –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Uvicorn:
–°–µ—Ä–≤–µ—Ä	–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
Gunicorn	WSGI, —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π, –∫–ª–∞—Å—Å–∏–∫–∞ –¥–ª—è Flask/Django
Hypercorn	ASGI, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç HTTP/2
Daphne	ASGI-—Å–µ—Ä–≤–µ—Ä –æ—Ç Django Channels

üí° –í—ã–≤–æ–¥:
Nginx ‚Äî –æ–±—ë—Ä—Ç–∫–∞, Uvicorn ‚Äî –¥–≤–∏–≥–∞—Ç–µ–ª—å.
–û–¥–∏–Ω ‚Äî –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç, –¥—Ä—É–≥–æ–π ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–≤–æ—ë Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.


–í–æ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è (–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏):

üîÅ 1. Round Robin (–∫–ª–∞—Å—Å–∏–∫–∞)
üö¶ –ó–∞–ø—Ä–æ—Å—ã —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –∏–¥—É—Ç –ø–æ –∫—Ä—É–≥—É: —Å–µ—Ä–≤–µ—Ä1 ‚Üí —Å–µ—Ä–≤–µ—Ä2 ‚Üí —Å–µ—Ä–≤–µ—Ä3 ‚Üí ...

–ü–ª—é—Å—ã: –ø—Ä–æ—Å—Ç–æ, —Å—Ç–∞–±–∏–ª—å–Ω–æ
–ú–∏–Ω—É—Å—ã: –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Å–µ—Ä–≤–µ—Ä–æ–≤

üéØ 2. Least Connections
üîå –ó–∞–ø—Ä–æ—Å –∏–¥—ë—Ç –Ω–∞ —Ç–æ—Ç —Å–µ—Ä–≤–µ—Ä, —É –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–µ–π—á–∞—Å –º–µ–Ω—å—à–µ –≤—Å–µ–≥–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

–ü–ª—é—Å—ã: –ª—É—á—à–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏ —Ä–∞–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
–ú–∏–Ω—É—Å—ã: –º–æ–∂–µ—Ç –Ω–µ —É—á–∏—Ç—ã–≤–∞—Ç—å "—Ç—è–∂–µ—Å—Ç—å" –∑–∞–ø—Ä–æ—Å–∞

‚è±Ô∏è 3. IP Hash (Sticky Sessions)
üîí –•—ç—à–∏—Ä—É–µ—Ç—Å—è IP –∫–ª–∏–µ–Ω—Ç–∞ ‚Üí –≤—Å–µ–≥–¥–∞ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Å–µ—Ä–≤–µ—Ä.

–ü–ª—é—Å—ã: —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ "sticky session" (—É–¥–æ–±–Ω–æ –¥–ª—è —Å–µ—Å—Å–∏–π –±–µ–∑ Redis)
–ú–∏–Ω—É—Å—ã: –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –ø—Ä–∏ –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω—ã—Ö IP

üè∑Ô∏è 4. URL Hash / URI Hash / Path Hash
üì¶ –ü—Ä–æ–∫—Å–∏ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ —Ö—ç—à—É URL –∏–ª–∏ –ø—É—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, /api/user ‚Üí –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä, /api/image ‚Üí –¥—Ä—É–≥–æ–π)

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:

–ö–µ—à–∏—Ä—É—é—â–∏—Ö –ø—Ä–æ–∫—Å–∏ (CDN)

Sharding/Consistent Hashing —Å–∏—Å—Ç–µ–º–∞—Ö

üß† 5. Weighted Round Robin
üéöÔ∏è –ö–∞–∫ –æ–±—ã—á–Ω—ã–π round robin, –Ω–æ —Å–µ—Ä–≤–µ—Ä–∞–º –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å "–≤–µ—Å" (weight)

upstream backend {
    server backend1 weight=3;
    server backend2 weight=1;
}
–ó–Ω–∞—á–∏—Ç backend1 –ø–æ–ª—É—á–∏—Ç 75% —Ç—Ä–∞—Ñ–∏–∫–∞, backend2 ‚Äî 25%.

üìå –î—Ä—É–≥–∏–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (–æ–±—ã—á–Ω–æ –≤ HAProxy, Envoy, Traefik):
–¢–∏–ø	–û–ø–∏—Å–∞–Ω–∏–µ
Random	–°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä —Å–µ—Ä–≤–µ—Ä–∞
Consistent Hashing	–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö (Kafka, Redis Cluster)
Health-based Routing	–ó–∞–ø—Ä–æ—Å –∏–¥—ë—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ "–∂–∏–≤—ã–µ" —Å–µ—Ä–≤–µ—Ä—ã
Latency-based Routing	–í—ã–±–æ—Ä —Å–∞–º–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (–≤ AWS, Cloudflare)
Geo-based Routing	–í—ã–±–æ—Ä –±–ª–∏–∂–∞–π—à–µ–≥–æ –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä–∞ –ø–æ IP
Canary / Blue-Green	–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

üîß –í Nginx –¥–æ—Å—Ç—É–ø–Ω—ã:
–ú–µ—Ç–æ–¥	–í—Å—Ç—Ä–æ–µ–Ω –≤ Nginx?	–¢—Ä–µ–±—É–µ—Ç –º–æ–¥—É–ª—è
Round Robin	‚úÖ –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é	‚Äî
Least Connections	‚úÖ	‚Äî
IP Hash	‚úÖ	‚Äî
Weighted	‚úÖ	‚Äî
Hash by URI/path	‚ö†Ô∏è –ß–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –º–æ–¥—É–ª–∏	hash module

# üîÅ –ú–µ—Ç–æ–¥—ã –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏ (Load Balancing Methods)

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤ Nginx, HAProxy, Kubernetes, Traefik –∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–∫—Å–∏-—Å–∏—Å—Ç–µ–º–∞—Ö.

---

## üì¶ –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

| –ú–µ—Ç–æ–¥                  | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 | –ü–ª—é—Å—ã                                                                 | –ú–∏–Ω—É—Å—ã                                                              | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ Nginx         |
|------------------------|--------------------------------------------------------------------------|-----------------------------------------------------------------------|----------------------------------------------------------------------|----------------------------|
| **Round Robin**        | –ü–æ–æ—á–µ—Ä—ë–¥–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —Å–µ—Ä–≤–µ—Ä–∞–º                           | ‚úÖ –ü—Ä–æ—Å—Ç–æ <br> ‚úÖ –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –ø—Ä–∏ —Ä–∞–≤–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ                      | ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –∏–ª–∏ –∑–∞–¥–µ—Ä–∂–∫–∏                                | ‚úÖ –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é             |
| **Least Connections**  | –ó–∞–ø—Ä–æ—Å –∏–¥—ë—Ç —Ç—É–¥–∞, –≥–¥–µ –º–µ–Ω—å—à–µ –≤—Å–µ–≥–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π                   | ‚úÖ –õ—É—á—à–µ –ø—Ä–∏ –Ω–µ—Ä–∞–≤–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ                                        | ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ç—è–∂—ë–ª–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞                                     | ‚úÖ `least_conn`            |
| **IP Hash**            | –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π IP ‚Üí –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Å–µ—Ä–≤–µ—Ä (sticky sessions)                  | ‚úÖ –£–¥–æ–±–Ω–æ –¥–ª—è —Å–µ—Å—Å–∏–π                                                  | ‚ùå –ù–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –ø—Ä–∏ NAT/CGNAT                                         | ‚úÖ `ip_hash`               |
| **Weighted Round Robin** | –°–µ—Ä–≤–µ—Ä—ã —Å "–≤–µ—Å–æ–º" –ø–æ–ª—É—á–∞—é—Ç –±–æ–ª—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤                             | ‚úÖ –ì–∏–±–∫–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É                                        | ‚ùå –í–µ—Å –∑–∞–¥–∞—ë—Ç—Å—è –≤—Ä—É—á–Ω—É—é                                              | ‚úÖ `weight`                |
| **Hash –ø–æ URI/Path**   | –•–µ—à –ø–æ –ø—É—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞ ‚Äî —É–¥–æ–±–Ω–æ –¥–ª—è –∫–µ—à–∞                                    | ‚úÖ –ü–æ–ª–µ–∑–Ω–æ –≤ CDN                                                      | ‚ùå –ù—É–∂–Ω—ã —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –º–æ–¥—É–ª–∏                                            | ‚ö†Ô∏è –ß–µ—Ä–µ–∑ `hash` –º–æ–¥—É–ª–∏     |
| **Random**             | –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä —Å–µ—Ä–≤–µ—Ä–∞                                                  | ‚úÖ –ü—Ä–æ—Å—Ç–æ                                                             | ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ                                           | ‚ùå –¢–æ–ª—å–∫–æ –≤ HAProxy/Traefik |
| **Latency-based**      | –í—ã–±–æ—Ä —Å–∞–º–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞                                  | ‚úÖ –ù–∞–∏–ª—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å                                       | ‚ùå –ù—É–∂–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–¥–µ—Ä–∂–µ–∫                                        | ‚ùå –¢–æ–ª—å–∫–æ –≤ Envoy, Cloudflare |
| **Geo-based**          | –í—ã–±–æ—Ä –±–ª–∏–∂–∞–π—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ IP –∫–ª–∏–µ–Ω—Ç–∞                                   | ‚úÖ –ë—ã—Å—Ç—Ä–æ, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ                                                  | ‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è –≥–µ–æ-IP –±–∞–∑–∞                                              | ‚ùå –¢–æ–ª—å–∫–æ –≤ CDN/Cloudflare |
| **Health-check-aware** | –¢–æ–ª—å–∫–æ –∂–∏–≤—ã–µ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–ª—É—á–∞—é—Ç —Ç—Ä–∞—Ñ–∏–∫                                     | ‚úÖ –ù–∞–¥—ë–∂–Ω–æ                                                            | ‚ùå –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Ö–µ–ª—Å—á–µ–∫–æ–≤                                       | ‚ö†Ô∏è –ß–µ—Ä–µ–∑ –¥–æ–ø. –º–æ–¥—É–ª–∏        |
| **Canary / A/B**       | A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤—ã–∫–∞—Ç–∫–∞ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏                                   | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–µ–ø–ª–æ–π                                                  | ‚ùå –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏                                      | ‚ö†Ô∏è –ß–µ—Ä–µ–∑ rewrite –∏ headers  |

---
